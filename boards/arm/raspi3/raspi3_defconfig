CONFIG_SOC_BCM2837=y
CONFIG_BOARD_RASPI3=y
CONFIG_XIP=n
CONFIG_QEMU_ICOUNT=n

# Enable UART driver
CONFIG_SERIAL=y

# Enable console
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y

# Enable serial port
CONFIG_UART_PL011=y
CONFIG_UART_PL011_PORT0=y
CONFIG_UART_INTERRUPT_DRIVEN=n

CONFIG_SMP=y
CONFIG_MP_NUM_CPUS=4
CONFIG_CACHE_MANAGEMENT=y
CONFIG_TIMEOUT_64BIT=y
CONFIG_ARMV8_A_NS=y

CONFIG_AARCH64_IMAGE_HEADER=y

# Memory offset to which the kerenl image is loaded by the bootloader.
# If this is wrong, references to static data in the kernel image are off.
# https://wiki.osdev.org/Raspberry_Pi_Bare_Bones#Pi_3.2C_4
CONFIG_SRAM_BASE_ADDRESS=0x200000
CONFIG_KERNEL_VM_BASE=0x200000

# In KiB.
CONFIG_SRAM_SIZE=256

CONFIG_LOG=y
CONFIG_LOG_MODE_MINIMAL=y

CONFIG_ARM_ARCH_TIMER=y

CONFIG_DEBUG=y
CONFIG_ASSERT=y
CONFIG_ASSERT_VERBOSE=y
CONFIG_STACK_SENTINEL=y
CONFIG_INIT_STACKS=y

CONFIG_TICKLESS_KERNEL=n
CONFIG_LOG_PRINTK=n
